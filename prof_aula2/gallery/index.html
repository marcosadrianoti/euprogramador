<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="style.css" rel="stylesheet" />
    <title>Gallery</title>
  </head>
  <body>
    <div class="gallery">
      <div class="image">
        <img
          class="preview"
          src="https://imagens.ebc.com.br/WoXaXqQkSQ9UiszURZD0KUOLREg=/1170x700/smart/https://agenciabrasil.ebc.com.br/sites/default/files/thumbnails/image/2020-05-26t190240z_1541318122_rc2jwg9xxhy6_rtrmadp_3_space-exploration-spacex-launch.jpg?itok=CrLOeXw4"
          alt="Imagem"
        />
        <div class="controls">
          <span class="previewBtn"> < </span>
          <span class="nextBtn"> > </span>
        </div>
      </div>

      <div class="minis">
        <div
          class="mini active"
          data-src="https://imagens.ebc.com.br/WoXaXqQkSQ9UiszURZD0KUOLREg=/1170x700/smart/https://agenciabrasil.ebc.com.br/sites/default/files/thumbnails/image/2020-05-26t190240z_1541318122_rc2jwg9xxhy6_rtrmadp_3_space-exploration-spacex-launch.jpg?itok=CrLOeXw4"
        ></div>
        <div
          class="mini"
          data-src="https://conteudo.imguol.com.br/c/noticias/59/2021/04/16/ilustracao-de-foguete-da-spacex-na-lua-em-missao-que-levara-astronautas-novamente-ao-nosso-satelite-natural-1618610283243_v2_900x506.jpg.webp"
        ></div>
        <div
          class="mini"
          data-src="https://www.istoedinheiro.com.br/wp-content/uploads/sites/17/2021/04/spacex-1-e1619828964556.jpg"
        ></div>
        <div
          class="mini"
          data-src="https://s2.glbimg.com/RdSYL9rKfVKBF1dQMT4CIJFWYvQ=/620x430/e.glbimg.com/og/ed/f/original/2017/12/05/space-x-rocket.jpg"
        ></div>
        <!-- <img
          class="mini active"
          src="https://imagens.ebc.com.br/WoXaXqQkSQ9UiszURZD0KUOLREg=/1170x700/smart/https://agenciabrasil.ebc.com.br/sites/default/files/thumbnails/image/2020-05-26t190240z_1541318122_rc2jwg9xxhy6_rtrmadp_3_space-exploration-spacex-launch.jpg?itok=CrLOeXw4"
          alt="Miniatura1"
          />
          <img
          class="mini"
          src="https://conteudo.imguol.com.br/c/noticias/59/2021/04/16/ilustracao-de-foguete-da-spacex-na-lua-em-missao-que-levara-astronautas-novamente-ao-nosso-satelite-natural-1618610283243_v2_900x506.jpg.webp"
          alt="Miniatura2"
          />
          <img
          class="mini"
          src="https://www.istoedinheiro.com.br/wp-content/uploads/sites/17/2021/04/spacex-1-e1619828964556.jpg"
          alt="Miniatura3"
          />
          <img
          class="mini"
          src="https://s2.glbimg.com/RdSYL9rKfVKBF1dQMT4CIJFWYvQ=/620x430/e.glbimg.com/og/ed/f/original/2017/12/05/space-x-rocket.jpg"
          alt="Miniatura4"
          /> -->
      </div>
    </div>
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const minis = document.querySelectorAll(".mini");
        const previewBtn = document.querySelector(".previewBtn");
        const nextBtn = document.querySelector(".nextBtn");

        const preview = document.querySelector(".preview");
        let currentImage = 0;

        const changeImage = (preview, img) => {
          const {dataset:{src}} = img;
          preview.src = src;
          const active = document.querySelector(".active");
          active.classList.toggle("active");
          img.classList.toggle("active");
        };

        minis.forEach((mini, index) => {
          mini.addEventListener("click", () => {
            changeImage(preview, mini);
            currentImage = index;
          });
        });

        previewBtn.addEventListener("click", () => {
          currentImage--;
          if (currentImage < 0) {
            currentImage = minis.length - 1;
          }
          changeImage(preview, minis[currentImage]);
        });

        nextBtn.addEventListener("click", () => {
          currentImage++;
          if (currentImage > minis.length - 1) {
            currentImage = 0;
          }
          changeImage(preview, minis[currentImage]);
        });

        setInterval(() => {
          if (currentImage > minis.length - 1) {
            currentImage = 0;
          }
          console.log(currentImage)
          changeImage(preview, minis[currentImage]);
          // const image = minis[currentImage];
          // preview.src = image.src;
          currentImage++;
        }, 6000);
      });
    </script>
  </body>
</html>
